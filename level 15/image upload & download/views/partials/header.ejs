<header class="fixed top-0 left-0 w-full z-50 bg-gradient-to-r from-red-500 via-pink-500 to-purple-600 shadow-md">
  <div class="max-w-7xl mx-auto flex justify-between items-center p-4">

    <!-- Logo -->
    <a href="/" class="text-2xl font-bold text-white hover:text-yellow-300 transition-colors duration-300">
      Airbnb
    </a>

    <!-- Desktop Menu -->
    <nav class="hidden md:flex space-x-6 items-center">
      <% if (isLoggedIn) { %>
        <% if (user && user.usertype === 'guest') { %>
          <a href="/home-list" class="px-4 py-2 font-semibold rounded-md border-b-2 <%= currentPage === 'Homelist' ? 'border-white' : 'border-transparent hover:border-white' %> text-white transition-all duration-300">Home List</a>
          <a href="/bookings" class="px-4 py-2 font-semibold rounded-md border-b-2 <%= currentPage === 'booking' ? 'border-white' : 'border-transparent hover:border-white' %> text-white transition-all duration-300">Booking</a>
          <a href="/favourites" class="px-4 py-2 font-semibold rounded-md border-b-2 <%= currentPage === 'favourites' ? 'border-white' : 'border-transparent hover:border-white' %> text-white transition-all duration-300">Favourites</a>
        <% } else { %>
          <a href="/add-home" class="px-4 py-2 font-semibold rounded-md border-b-2 <%= currentPage === 'addHome' ? 'border-white' : 'border-transparent hover:border-white' %> text-white transition-all duration-300">Add Home</a>
          <a href="/admin-home-list" class="px-4 py-2 font-semibold rounded-md border-b-2 <%= currentPage === 'host-homes' ? 'border-white' : 'border-transparent hover:border-white' %> text-white transition-all duration-300">Host Homes</a>
        <% } %>
        <form action="/logout" method="POST" class="inline">
          <button type="submit" class="px-4 py-2 font-semibold rounded-md border-b-2 border-transparent hover:border-white text-white transition-all duration-300">Logout</button>
        </form>
      <% } else { %>
        <a href="/login" class="px-4 py-2 font-semibold rounded-md border-b-2 <%= currentPage === 'login' ? 'border-white' : 'border-transparent hover:border-white' %> text-white transition-all duration-300">Login</a>
        <a href="/signup" class="px-4 py-2 font-semibold rounded-md border-b-2 <%= currentPage === 'signup' ? 'border-white' : 'border-transparent hover:border-white' %> text-white transition-all duration-300">Signup</a>
      <% } %>
    </nav>

    <!-- Mobile menu button -->
    <div class="md:hidden">
      <button id="mobile-menu-btn" class="text-white focus:outline-none">
        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div class="md:hidden max-h-0 overflow-hidden transition-all duration-500 ease-in-out bg-gradient-to-r from-red-500 via-pink-500 to-purple-600" id="mobile-menu">
    <nav class="flex flex-col px-4 py-3 space-y-2">
      <% if (isLoggedIn) { %>
        <% if (user && user.usertype === 'guest') { %>
          <a href="/home-list" class="px-4 py-2 font-semibold text-white rounded-md hover:bg-white/20">Home List</a>
          <a href="/bookings" class="px-4 py-2 font-semibold text-white rounded-md hover:bg-white/20">Booking</a>
          <a href="/favourites" class="px-4 py-2 font-semibold text-white rounded-md hover:bg-white/20">Favourites</a>
        <% } else { %>
          <a href="/add-home" class="px-4 py-2 font-semibold text-white rounded-md hover:bg-white/20">Add Home</a>
          <a href="/admin-home-list" class="px-4 py-2 font-semibold text-white rounded-md hover:bg-white/20">Host Homes</a>
        <% } %>
        <form action="/logout" method="POST">
          <button type="submit" class="w-full text-left px-4 py-2 font-semibold text-white rounded-md hover:bg-white/20">Logout</button>
        </form>
      <% } else { %>
        <a href="/login" class="px-4 py-2 font-semibold text-white rounded-md hover:bg-white/20">Login</a>
        <a href="/signup" class="px-4 py-2 font-semibold text-white rounded-md hover:bg-white/20">Signup</a>
      <% } %>
    </nav>
  </div>
</header>

<!-- Spacer to prevent content behind fixed navbar -->
<div class="h-16 md:h-20"></div>

<script>
  const btn = document.getElementById('mobile-menu-btn');
  const menu = document.getElementById('mobile-menu');

  btn.addEventListener('click', () => {
    menu.style.maxHeight = menu.style.maxHeight && menu.style.maxHeight !== '0px'
      ? '0px'
      : menu.scrollHeight + 'px';
  });
</script>