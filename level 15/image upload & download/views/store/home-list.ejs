<%- include('../partials/head') %>
</head>

<body class="bg-gray-100 min-h-screen">
  <%- include('../partials/header') %>

  <main class="py-10">
    <div class="max-w-7xl mx-auto px-4">
      <div class="grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6">

        <% RergisterdHomes.forEach((home) => { %>
          <div class="bg-white shadow-md rounded-xl overflow-hidden hover:shadow-xl transition-shadow duration-300 relative">

            <!-- Favorite Heart Icon -->
            <div class="absolute top-2 right-2 z-10">
              <%- include('../partials/favourites', { home: home }) %>
            </div>

            <!-- Home Image -->
            <div class="w-full aspect-[1/1] overflow-hidden">
              <img src="<%= home.photo ? home.photo : '/images/default.png' %>" 
                   alt="<%= home.houseName %>" 
                   class="w-full h-full object-contain bg-gray-100" 
                   onerror="this.onerror=null; this.src='/images/default.png';" />
            </div>

            <!-- Card Content -->
            <div class="p-2 flex flex-col">
              <h2 class="text-xs font-semibold text-gray-800 truncate">
                <%= home.houseName %>
              </h2>
              <p class="text-[10px] text-gray-500 truncate">
                <%= home.location %>
              </p>
              <p class="text-[10px] text-yellow-500 font-bold">
                ‚≠ê <%= home.rating %>/10
              </p>

              <!-- Details link -->
              <a href="/home-detail/<%= home._id %>" 
                 class="mt-2 text-center bg-blue-600 hover:bg-blue-700 text-white text-xs font-semibold py-1 rounded-lg transition transform hover:scale-105">
                Details
              </a>
            </div>
          </div>
        <% }) %>

      </div>
    </div>
  </main>

</body>
</html>